<!DOCTYPE html>
<html lang="en">
<head>
  <%- include("partials/head.ejs") %>
</head>

<body class="bg-light">
  <%- include("partials/header.ejs") %>

  <div class="container mt-4">
  
    <!-- Page title -->
    <h1><%= pageTitle %></h1>
    
    <!-- Back to reviews link -->
    <div class="mb-4">
      <a href="/" class="text-muted">&larr; Back to Reviews</a>
    </div>
    
    <!-- Two column layout for book cover and book details -->
    <div class="row">
      
      <!-- Left column for book cover -->
      <div class="col-md-2">
        <img src="<%= review.coverImage %>" alt="Book cover for <%= review.title %>" class="img-fluid">
      </div>
      
      <!-- Right column for book details -->
      <div class="col-md-10">
        
        <p>Review by <strong><%= review.username %></strong></p>
        <p>Rating: <%= review.starRating %></p>
        <p>Date Read: <strong><%= new Date(review.date_read).toLocaleDateString('en-CA') %></strong></p>
        <p>ISBN: <strong><%= review.isbn13 %></strong></p>
        
        <!-- Review body -->
        <h2>Review</h2>
        <div><%- review.review_body %></div> <!-- Render HTML content without escaping -->

        <!-- Buttons for Edit and Delete -->
        <div class="mt-4">
          <a href="/edit-review/<%= review.id %>" class="btn btn-dark me-2">Edit</a>
          <!-- Delete button with confirmation -->
          <form action="/delete-review/<%= review.id %>" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this review?');">
            <button type="submit" class="btn btn-danger">Delete</button>
          </form>
        </div>
        
      </div>
      
    </div>

  </div>

  <%- include("partials/footer.ejs") %>

</body>
</html>





